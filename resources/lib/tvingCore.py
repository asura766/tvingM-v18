# -*- coding: utf-8 -*-
__author__ = "NightRain"
__email__ = "kym1088@naver.com"
if 64 - 64: i11iIiiIii
import urllib
import urllib2
if 65 - 65: O0 / iIii1I11I1II1 % OoooooooOO - i1IIi
import cookielib
import re
import json
import sys
import urlparse
import time
if 73 - 73: II111iiii
reload ( sys )
sys . setdefaultencoding ( 'utf-8' )
if 22 - 22: I1IiiI * Oo0Ooo / OoO0O00 . OoOoOO00 . o0oOOo0O0Ooo / I1ii11iIi11i
if 48 - 48: oO0o / OOooOOo / I11i / Ii1I
if 48 - 48: iII111i % IiII + I1Ii111 / ooOoO0o * Ii1I
if 46 - 46: ooOoO0o * I11i - OoooooooOO
if 30 - 30: o0oOOo0O0Ooo - O0 % o0oOOo0O0Ooo - OoooooooOO * O0 * OoooooooOO
if 60 - 60: iIii1I11I1II1 / i1IIi * oO0o - I1ii11iIi11i + o0oOOo0O0Ooo
if 94 - 94: i1IIi % Oo0Ooo
if 68 - 68: Ii1I / O0
if 46 - 46: O0 * II111iiii / IiII * Oo0Ooo * iII111i . I11i
if 62 - 62: i11iIiiIii - II111iiii % I1Ii111 - iIii1I11I1II1 . I1ii11iIi11i . II111iiii
if 61 - 61: oO0o / OoOoOO00 / iII111i * OoO0O00 . II111iiii
if 1 - 1: II111iiii - I1ii11iIi11i % i11iIiiIii + IiII . I1Ii111
if 55 - 55: iIii1I11I1II1 - I1IiiI . Ii1I * IiII * i1IIi / iIii1I11I1II1
if 79 - 79: oO0o + I1Ii111 . ooOoO0o * IiII % I11i . I1IiiI
if 94 - 94: iII111i * Ii1I / IiII . i1IIi * iII111i
if 47 - 47: i1IIi % i11iIiiIii
if 20 - 20: ooOoO0o * II111iiii
if 65 - 65: o0oOOo0O0Ooo * iIii1I11I1II1 * ooOoO0o
if 18 - 18: iIii1I11I1II1 / I11i + oO0o / Oo0Ooo - II111iiii - I11i
if 1 - 1: I11i - OOooOOo % O0 + I1IiiI - iII111i / I11i
if 31 - 31: OoO0O00 + II111iiii
if 13 - 13: OOooOOo * oO0o * I1IiiI
if 55 - 55: II111iiii
if 43 - 43: OoOoOO00 - i1IIi + I1Ii111 + Ii1I
if 17 - 17: o0oOOo0O0Ooo
if 64 - 64: Ii1I % i1IIi % OoooooooOO
if 3 - 3: iII111i + O0
if 42 - 42: OOooOOo / i1IIi + i11iIiiIii - Ii1I
if 78 - 78: OoO0O00
if 18 - 18: O0 - iII111i / iII111i + ooOoO0o % ooOoO0o - IiII
if 62 - 62: iII111i - IiII - OoOoOO00 % i1IIi / oO0o
if 77 - 77: II111iiii - II111iiii . I1IiiI / o0oOOo0O0Ooo
if 14 - 14: I11i % O0
if 41 - 41: i1IIi + I1Ii111 + OOooOOo - IiII
if 77 - 77: Oo0Ooo . IiII % ooOoO0o
if 42 - 42: oO0o - i1IIi / i11iIiiIii + OOooOOo + OoO0O00
if 17 - 17: oO0o . Oo0Ooo . I1ii11iIi11i
if 3 - 3: OoOoOO00 . Oo0Ooo . I1IiiI / Ii1I
if 38 - 38: II111iiii % i11iIiiIii . ooOoO0o - OOooOOo + Ii1I
if 66 - 66: OoooooooOO * OoooooooOO . OOooOOo . i1IIi - OOooOOo
if 77 - 77: I11i - iIii1I11I1II1
if 82 - 82: i11iIiiIii . OOooOOo / Oo0Ooo * O0 % oO0o % iIii1I11I1II1
if 78 - 78: iIii1I11I1II1 - Ii1I * OoO0O00 + o0oOOo0O0Ooo + iII111i + iII111i
if 11 - 11: iII111i - OoO0O00 % ooOoO0o % iII111i / OoOoOO00 - OoO0O00
if 74 - 74: iII111i * O0
if 89 - 89: oO0o + Oo0Ooo
if 3 - 3: i1IIi / I1IiiI % I11i * i11iIiiIii / O0 * I11i
if 49 - 49: oO0o % Ii1I + i1IIi . I1IiiI % I1ii11iIi11i
if 48 - 48: I11i + I11i / II111iiii / iIii1I11I1II1
if 20 - 20: o0oOOo0O0Ooo
if 77 - 77: OoOoOO00 / I11i
if 98 - 98: iIii1I11I1II1 / i1IIi / i11iIiiIii / o0oOOo0O0Ooo
if 28 - 28: OOooOOo - IiII . IiII + OoOoOO00 - OoooooooOO + O0
if 95 - 95: OoO0O00 % oO0o . O0
if 15 - 15: ooOoO0o / Ii1I . Ii1I - i1IIi
if 53 - 53: IiII + I1IiiI * oO0o
if 61 - 61: i1IIi * OOooOOo / OoooooooOO . i11iIiiIii . OoOoOO00
if 60 - 60: I11i / I11i
if 46 - 46: Ii1I * OOooOOo - OoO0O00 * oO0o - I1Ii111
if 83 - 83: OoooooooOO
if 31 - 31: II111iiii - OOooOOo . I1Ii111 % OoOoOO00 - O0
if 4 - 4: II111iiii / ooOoO0o . iII111i
if 58 - 58: OOooOOo * i11iIiiIii / OoOoOO00 % I1Ii111 - I1ii11iIi11i / oO0o
if 50 - 50: I1IiiI
if 34 - 34: I1IiiI * II111iiii % iII111i * OoOoOO00 - I1IiiI
if 33 - 33: o0oOOo0O0Ooo + OOooOOo * OoO0O00 - Oo0Ooo / oO0o % Ii1I
if 21 - 21: OoO0O00 * iIii1I11I1II1 % oO0o * i1IIi
if 16 - 16: O0 - I1Ii111 * iIii1I11I1II1 + iII111i
if 50 - 50: II111iiii - ooOoO0o * I1ii11iIi11i / I1Ii111 + o0oOOo0O0Ooo
if 88 - 88: Ii1I / I1Ii111 + iII111i - II111iiii / ooOoO0o - OoOoOO00
if 15 - 15: I1ii11iIi11i + OoOoOO00 - OoooooooOO / OOooOOo
if 58 - 58: i11iIiiIii % I11i
OO00Oo = 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.97 Safari/537.36'
O0OOO0OOoO0O = { 'stream50' : 1080 , 'stream40' : 720 , 'stream30' : 480 , 'stream25' : 360 }
if 70 - 70: IiII * Oo0Ooo * I11i / Ii1I
if 88 - 88: O0
class O0OoO0O00o0oO ( object ) :
 def __init__ ( self ) :
  self . MyCookie = cookielib . LWPCookieJar ( )
  self . Opener = urllib2 . build_opener ( urllib2 . HTTPCookieProcessor ( self . MyCookie ) )
  self . Opener . addheaders = [ ( 'User-Agent' , OO00Oo ) ]
  urllib2 . install_opener ( self . Opener )
  if 15 - 15: Ii1I - O0 / oO0o * i1IIi
  if 92 - 92: OoOoOO00
 def RequestCookie ( self , url , params ) :
  i1 = ''
  OOO = self . Opener . open ( url , urllib . urlencode ( params ) )
  if 59 - 59: II111iiii + OoooooooOO * OoOoOO00 + i1IIi
  i1 = OOO . info ( ) . getheader ( 'Set-Cookie' )
  if 58 - 58: II111iiii * OOooOOo * I1ii11iIi11i / OOooOOo
  OOO . close ( )
  return i1
  if 75 - 75: oO0o
  if 50 - 50: Ii1I / Oo0Ooo - oO0o - I11i % iII111i - oO0o
 def Request ( self , url , params = None , cookie = None ) :
  if cookie : self . Opener . addheaders = cookie
  if 91 - 91: OoO0O00 / I11i - II111iiii . I11i
  if params :
   OOO = self . Opener . open ( url , urllib . urlencode ( params ) )
  else :
   OOO = self . Opener . open ( url )
   if 18 - 18: o0oOOo0O0Ooo
  O0o0O00Oo0o0 = OOO . read ( )
  OOO . close ( )
  if 87 - 87: ooOoO0o * Oo0Ooo % i11iIiiIii % OoOoOO00 - OOooOOo
  return O0o0O00Oo0o0
  if 68 - 68: I1Ii111 % i1IIi . IiII . I1ii11iIi11i
  if 92 - 92: iII111i . I1Ii111
  if 31 - 31: I1Ii111 . OoOoOO00 / O0
  if 89 - 89: OoOoOO00
  if 68 - 68: OoO0O00 * OoooooooOO % O0 + OoO0O00 + ooOoO0o
class i11i1I1 ( object ) :
 def __init__ ( self ) :
  self . SESSION = O0OoO0O00o0oO ( )
  self . TVING_TOKEN = ''
  self . POC_USERINFO = ''
  self . APIKEY = '1e7952d0917d6aab1f0293a063697610'
  self . NETWORKCODE = 'CSND0900'
  self . OSCODE = 'CSOD0900'
  self . TELECODE = 'CSCD0900'
  self . SCREENCODE = 'CSSD0100'
  self . LIVE_LIMIT = 23
  self . VOD_LIMIT = 20
  self . EPISODE_LIMIT = 30
  self . SEARCH_LIMIT = 50
  self . API_DOMAIN = 'https://api.tving.com'
  self . IMG_DOMAIN = 'https://image.tving.com'
  self . SEARCH_DOMAIN = 'https://search.tving.com'
  self . LOGIN_DOMAIN = 'https://user.tving.com'
  self . URL_DOMAIN = 'https://www.tving.com'
  if 36 - 36: iIii1I11I1II1 / OoOoOO00 * OOooOOo
  if 65 - 65: Ii1I . iIii1I11I1II1 / O0 - Ii1I
  if 21 - 21: I1IiiI * iIii1I11I1II1
 def SaveCredential ( self , login_params ) :
  self . TVING_TOKEN = login_params . get ( 'tving_token' )
  self . POC_USERINFO = login_params . get ( 'poc_userinfo' )
  if 91 - 91: IiII
 def LoadCredential ( self ) :
  iiIii = {
 'tving_token' : self . TVING_TOKEN
 , 'poc_userinfo' : self . POC_USERINFO
 }
  return iiIii
  if 79 - 79: OoooooooOO / O0
 def GetDefaultParams ( self ) :
  OO0OoO0o00 = { 'apiKey' : self . APIKEY
 , 'networkCode' : self . NETWORKCODE
 , 'osCode' : self . OSCODE
 , 'teleCode' : self . TELECODE
 , 'screenCode' : self . SCREENCODE
 }
  return OO0OoO0o00
  if 53 - 53: O0 * OoO0O00 + OOooOOo
 def GetNoCache ( self , timetype = 1 ) :
  if timetype == 1 :
   return int ( time . time ( ) )
  else :
   return int ( time . time ( ) * 1000 )
   if 50 - 50: O0 . O0 - oO0o / I1IiiI - o0oOOo0O0Ooo * OoOoOO00
 def makeurl ( self , domain , path , query1 = None , query2 = None ) :
  o0O00oOoOO = domain + path
  if query1 :
   o0O00oOoOO += '?%s' % urllib . urlencode ( query1 )
  if query2 :
   o0O00oOoOO += '&%s' % urllib . urlencode ( query2 )
  return o0O00oOoOO
  if 42 - 42: OoO0O00
  if 67 - 67: I1Ii111 . iII111i . O0
  if 10 - 10: I1ii11iIi11i % I1ii11iIi11i - iIii1I11I1II1 / OOooOOo + Ii1I
  if 87 - 87: oO0o * I1ii11iIi11i + OOooOOo / iIii1I11I1II1 / iII111i
  if 37 - 37: iII111i - ooOoO0o * oO0o % i11iIiiIii - I1Ii111
 def GetCredential ( self , user_id , user_pw , login_type ) :
  o0oO = False
  if 1 - 1: OoO0O00 - oO0o . I11i . OoO0O00 / Oo0Ooo + I11i
  try :
   Ooo = self . LOGIN_DOMAIN + '/pc/user/doLogin.tving'
   if 62 - 62: OOooOOo / OoO0O00 + Ii1I / OoO0O00 . II111iiii
   OO0OoO0o00 = { 'userId' : user_id
 , 'password' : user_pw
 , 'loginType' : '10' if login_type == '0' else '20'
 , 'autoLogin' : 'false'
 , 'cjOneCookie' : ''
 , 'kaptcha' : ''

   , 'returnUrl' : ''
 , 'csite' : ''
 }
   if 68 - 68: i11iIiiIii % I1ii11iIi11i + i11iIiiIii
   i1 = self . SESSION . RequestCookie ( Ooo , OO0OoO0o00 )
   if 31 - 31: II111iiii . I1IiiI
   if 1 - 1: Oo0Ooo / o0oOOo0O0Ooo % iII111i * IiII . i11iIiiIii
   if 2 - 2: I1ii11iIi11i * I11i - iIii1I11I1II1 + I1IiiI . oO0o % iII111i
   for ooOOOoOooOoO in i1 . split ( ',' ) :
    ooOOOoOooOoO = ooOOOoOooOoO . strip ( )
    if ooOOOoOooOoO . startswith ( '_tving_token' ) :
     o00oooO0Oo = ooOOOoOooOoO . split ( ';' ) [ 0 ]
     o00oooO0Oo = o00oooO0Oo . split ( '=' ) [ 1 ]
     if 78 - 78: Ii1I % I1Ii111 + I1ii11iIi11i
    if ooOOOoOooOoO . startswith ( 'POC_USERINFO' ) :
     OOooOoooOoOo = ooOOOoOooOoO . split ( ';' ) [ 0 ]
     OOooOoooOoOo = OOooOoooOoOo . split ( '=' ) [ 1 ]
     if 84 - 84: IiII
   if o00oooO0Oo : o0oO = True
   if 86 - 86: OoOoOO00 - Ii1I - OoO0O00 * iII111i
  except Exception as oooo0O0 :
   o00oooO0Oo = OOooOoooOoOo = ''
   if 51 - 51: OoO0O00 / OoO0O00
  iiIii = {
 'tving_token' : o00oooO0Oo
 , 'poc_userinfo' : OOooOoooOoOo
 }
  self . SaveCredential ( iiIii )
  if 53 - 53: Oo0Ooo
  return o0oO
  if 29 - 29: I1ii11iIi11i + oO0o % O0
  if 10 - 10: I11i / I1Ii111 - I1IiiI * iIii1I11I1II1 - I1IiiI
 def GetBroadURL ( self , mediacode , sel_quality , stype ) :
  OO0oO0 = ''
  O00OOOOOoo0 = ''
  if 49 - 49: O0 . iII111i
  try :
   if 11 - 11: IiII * I1IiiI . iIii1I11I1II1 % OoooooooOO + iII111i
   if stype != 'tvingtv' :
    if 78 - 78: OoO0O00 . OOooOOo + OoO0O00 / I11i / OoO0O00
    oO0O00OoOO0 = '/v2/media/stream/info'
    if 82 - 82: II111iiii . IiII - iIii1I11I1II1 - IiII * II111iiii
    ooO0oOOooOo0 = self . GetDefaultParams ( )
    i1I1ii11i1Iii = { 'info' : 'Y'
 , 'mediaCode' : mediacode
 , 'noCache' : str ( self . GetNoCache ( 1 ) )
 , 'callingFrom' : 'HTML5'
 , 'adReq' : 'none'
 , 'ooc' : ''
 }
    if 26 - 26: I11i - iIii1I11I1II1 - I1IiiI / OoO0O00 . OoOoOO00 % iIii1I11I1II1
    o0O00oOoOO = self . makeurl ( self . API_DOMAIN , oO0O00OoOO0 , ooO0oOOooOo0 , i1I1ii11i1Iii )
    if 91 - 91: o0oOOo0O0Ooo . iIii1I11I1II1 / oO0o + i1IIi
    i1 = [
 ( 'User-Agent' , OO00Oo )
 , ( 'Cookie' , '%s=%s; %s=%s' % ( '_tving_token' , self . TVING_TOKEN , 'POC_USERINFO' , self . POC_USERINFO ) )
 ]
    if 42 - 42: ooOoO0o . o0oOOo0O0Ooo . ooOoO0o - I1ii11iIi11i
    OOO = self . SESSION . Request ( o0O00oOoOO , params = None , cookie = i1 )
    i1ii1I1I1 = json . loads ( OOO )
    if 74 - 74: o0oOOo0O0Ooo . iII111i
    if not ( 'stream' in i1ii1I1I1 [ 'body' ] ) : return None
    I1I1i1I = i1ii1I1I1 [ 'body' ] [ 'stream' ]
    if 30 - 30: OoooooooOO
    if 'drm_license_assertion' in I1I1i1I :
     O00OOOOOoo0 = I1I1i1I [ 'drm_license_assertion' ]
    else :
     I1Ii1iI1 = I1I1i1I [ 'broadcast' ] [ 'broad_url' ]
     if 87 - 87: Oo0Ooo . IiII
    O0OO0O = I1I1i1I [ 'quality' ]
    if 81 - 81: oO0o . o0oOOo0O0Ooo % O0 / I1IiiI - oO0o
    Ii1I1i = [ ]
    for OO in O0OO0O :
     if OO [ 'active' ] == 'Y' :
      Ii1I1i . append ( { O0OOO0OOoO0O . get ( OO [ 'code' ] ) : OO [ 'code' ] } )
      if 37 - 37: ooOoO0o % oO0o . i11iIiiIii % Ii1I . Oo0Ooo
    I11I1IIII = self . CheckQuality ( sel_quality , Ii1I1i )
    if 25 - 25: I11i
   else :
    for iiiI1i1I , I1Ii11i in O0OOO0OOoO0O . items ( ) :
     if I1Ii11i == sel_quality :
      I11I1IIII = iiiI1i1I
      if 35 - 35: o0oOOo0O0Ooo
      if 90 - 90: I1Ii111 % Ii1I - iIii1I11I1II1 - iIii1I11I1II1 / i11iIiiIii % I1ii11iIi11i
      if 37 - 37: oO0o - I1IiiI . I11i * Ii1I - iII111i
      if 8 - 8: OoO0O00 - I1IiiI % Ii1I * OoooooooOO - OoO0O00 * I1Ii111
      if 6 - 6: OoooooooOO
      if 17 - 17: I1IiiI % I1Ii111
   oO0O00OoOO0 = '/streaming/info'
   ooO0oOOooOo0 = self . GetDefaultParams ( )
   if stype != 'vod' : ooO0oOOooOo0 [ 'osCode' ] = 'CSOD0400'
   OOOoo = {
 'isTrusted' : 'false'
 , 'NONE' : '0'
 , 'CAPTURING_PHASE' : '1'
 , 'AT_TARGET' : '2'
 , 'BUBBLING_PHASE' : '3'
 , 'type' : 'oocCreate'
 , 'eventPhase' : '0'
 , 'bubbles' : 'false'
 , 'cancelable' : 'false'
 , 'defaultPrevented' : 'false'
 , 'composed' : 'false'
 , 'timeStamp' : '2158.7350000045262'
 , 'returnValue' : 'true'
 , 'cancelBubble' : 'false'
 }
   if 54 - 54: I1Ii111 / OOooOOo . oO0o % iII111i
   Oo = self . makeOocUrl ( OOOoo )
   O0OOOOo0O = urllib . quote ( Oo )
   if 81 - 81: O0 / OoO0O00 . i1IIi + I1IiiI - I11i
   if 74 - 74: iIii1I11I1II1 * I1ii11iIi11i + OoOoOO00 / i1IIi / II111iiii . Oo0Ooo
   if 62 - 62: OoooooooOO * I1IiiI
   i1I1ii11i1Iii = { 'info' : 'Y'
 , 'mediaCode' : mediacode
 , 'callingFrom' : 'HTML5'
 , 'streamCode' : I11I1IIII
   , 'adReq' : 'none'
 , 'ooc' : Oo
 }
   if O00OOOOOoo0 != '' : i1I1ii11i1Iii [ 'deviceId' ] = '2357846534'
   if 58 - 58: OoOoOO00 % o0oOOo0O0Ooo
   o0O00oOoOO = self . URL_DOMAIN + oO0O00OoOO0
   i1OOoO = ooO0oOOooOo0
   i1OOoO . update ( i1I1ii11i1Iii )
   if 89 - 89: o0oOOo0O0Ooo + OoO0O00 * I11i * Ii1I
   i1 = [
 ( 'User-Agent' , OO00Oo )
 , ( 'Cookie' , '%s=%s; %s=%s; %s=%s'
 % ( '_tving_token' , self . TVING_TOKEN
 , 'onClickEvent2' , O0OOOOo0O
 , 'POC_USERINFO' , self . POC_USERINFO
 )
 )
 , ( 'origin' , 'https://www.tving.com' )
 , ( 'Referer' , 'https://www.tving.com/vod/player/' + mediacode )
 ]
   if 37 - 37: OoooooooOO - O0 - o0oOOo0O0Ooo
   OOO = self . SESSION . Request ( o0O00oOoOO , params = i1OOoO , cookie = i1 )
   if 77 - 77: OOooOOo * iIii1I11I1II1
   i1ii1I1I1 = json . loads ( OOO )
   if 98 - 98: I1IiiI % Ii1I * OoooooooOO
   if 51 - 51: iIii1I11I1II1 . OoOoOO00 / oO0o + o0oOOo0O0Ooo
   if O00OOOOOoo0 != '' :
    O00OOOOOoo0 = i1ii1I1I1 [ 'stream' ] [ 'drm_license_assertion' ]
    OO0oO0 = i1ii1I1I1 [ 'stream' ] [ 'broadcast' ] [ 'widevine' ] [ 'broad_url' ] + '&' + str ( self . GetNoCache ( 2 ) )
   else :
    if not ( 'broad_url' in i1ii1I1I1 [ 'stream' ] [ 'broadcast' ] ) : return OO0oO0 , O00OOOOOoo0
    OO0oO0 = i1ii1I1I1 [ 'stream' ] [ 'broadcast' ] [ 'broad_url' ]
    if 33 - 33: ooOoO0o . II111iiii % iII111i + o0oOOo0O0Ooo
  except Exception as oooo0O0 :
   print ( oooo0O0 )
   if 71 - 71: Oo0Ooo % OOooOOo
  return OO0oO0 , O00OOOOOoo0
  if 98 - 98: I11i % i11iIiiIii % ooOoO0o + Ii1I
  if 78 - 78: I1ii11iIi11i % oO0o / iII111i - iIii1I11I1II1
 def CheckQuality ( self , sel_qt , qt_list ) :
  for ooooo0O0000oo in qt_list :
   if sel_qt >= ooooo0O0000oo . keys ( ) [ 0 ] : return ooooo0O0000oo . get ( ooooo0O0000oo . keys ( ) [ 0 ] )
   iIii1II11 = ooooo0O0000oo . get ( ooooo0O0000oo . keys ( ) [ 0 ] )
  return iIii1II11
  if 65 - 65: OoooooooOO - I1ii11iIi11i / ooOoO0o / II111iiii / i1IIi
  if 71 - 71: I1Ii111 + Ii1I
 def makeOocUrl ( self , ooc_params ) :
  o0O00oOoOO = ''
  for iiiI1i1I , I1Ii11i in ooc_params . items ( ) :
   o0O00oOoOO += "%s=%s^" % ( iiiI1i1I , I1Ii11i )
  return o0O00oOoOO
  if 28 - 28: OOooOOo
  if 38 - 38: ooOoO0o % II111iiii % I11i / OoO0O00 + OoOoOO00 / i1IIi
 def GetLiveChannelList ( self , stype , page_int ) :
  OoOOo0OOoO = [ ]
  ooO0O00Oo0o = False
  if 65 - 65: I1ii11iIi11i . I11i - I1Ii111 * IiII / I1Ii111 / ooOoO0o
  try :
   oO0O00OoOO0 = '/v2/media/lives'
   if 40 - 40: ooOoO0o * IiII * i11iIiiIii
   if stype == 'onair' :
    oo0OO00OoooOo = 'CPCS0100,CPCS0400'
   else :
    oo0OO00OoooOo = 'CPCS0300'
    if 19 - 19: I1ii11iIi11i % OoooooooOO % IiII * o0oOOo0O0Ooo % O0
   ooO0oOOooOo0 = self . GetDefaultParams ( )
   i1I1ii11i1Iii = { 'pageNo' : str ( page_int )
 , 'pageSize' : str ( self . LIVE_LIMIT )
 , 'order' : 'rating'
 , 'adult' : 'all'
 , 'free' : 'all'
 , 'guest' : 'all'
 , 'scope' : 'all'
 , 'channelType' : oo0OO00OoooOo

   , '_' : str ( self . GetNoCache ( 2 ) )
 }
   if 67 - 67: I1IiiI . i1IIi
   o0O00oOoOO = self . makeurl ( self . API_DOMAIN , oO0O00OoOO0 , i1I1ii11i1Iii , ooO0oOOooOo0 )
   if 27 - 27: ooOoO0o % I1IiiI
   i1 = [
 ( 'User-Agent' , OO00Oo )
 , ( 'Cookie' , '%s=%s; %s=%s' % ( '_tving_token' , self . TVING_TOKEN , 'POC_USERINFO' , self . POC_USERINFO ) )
 ]
   if 73 - 73: OOooOOo
   OOO = self . SESSION . Request ( o0O00oOoOO , params = None , cookie = i1 )
   i1ii1I1I1 = json . loads ( OOO )
   if 70 - 70: iIii1I11I1II1
   if not ( 'result' in i1ii1I1I1 [ 'body' ] ) : return OoOOo0OOoO , ooO0O00Oo0o
   i11ii1iI = i1ii1I1I1 [ 'body' ] [ 'result' ]
   if 22 - 22: OoooooooOO
   if 75 - 75: o0oOOo0O0Ooo + o0oOOo0O0Ooo + i1IIi - i1IIi
   for OO in i11ii1iI :
    OOooOOOooO = iiI1IIIi = II11IiIi11 = II = ''
    if 77 - 77: oO0o * ooOoO0o + IiII + Oo0Ooo * OOooOOo
    OOoOO0ooo = OO [ 'live_code' ]
    OOooOOOooO = OO [ 'schedule' ] [ 'channel' ] [ 'name' ] [ 'ko' ]
    if 30 - 30: o0oOOo0O0Ooo - i1IIi % II111iiii + I11i * iIii1I11I1II1
    if OO [ 'schedule' ] [ 'episode' ] != None :
     iiI1IIIi = OO [ 'schedule' ] [ 'program' ] [ 'name' ] [ 'ko' ]
     iiI1IIIi = iiI1IIIi + ', ' + str ( OO [ 'schedule' ] [ 'episode' ] [ 'frequency' ] ) + '회'
     if OO [ 'schedule' ] [ 'episode' ] [ 'image' ] != [ ] :
      II11IiIi11 = OO [ 'schedule' ] [ 'episode' ] [ 'image' ] [ 0 ] [ 'url' ]
     II = OO [ 'schedule' ] [ 'episode' ] [ 'synopsis' ] [ 'ko' ]
    else :
     iiI1IIIi = OO [ 'schedule' ] [ 'program' ] [ 'name' ] [ 'ko' ]
     if OO [ 'schedule' ] [ 'program' ] [ 'image' ] != [ ] :
      II11IiIi11 = OO [ 'schedule' ] [ 'program' ] [ 'image' ] [ 0 ] [ 'url' ]
     II = OO [ 'schedule' ] [ 'program' ] [ 'synopsis' ] [ 'ko' ]
     if 81 - 81: IiII % i1IIi . iIii1I11I1II1
    if II11IiIi11 == '' :
     II11IiIi11 = OO [ 'schedule' ] [ 'channel' ] [ 'image' ] [ 0 ] [ 'url' ]
    if II11IiIi11 != '' : II11IiIi11 = self . IMG_DOMAIN + II11IiIi11
    if 4 - 4: i11iIiiIii % OoO0O00 % i1IIi / IiII
    if 6 - 6: iII111i / I1IiiI % OOooOOo - I1IiiI
    iiii111II = { 'channel' : unicode ( OOooOOOooO )
 , 'title' : unicode ( iiI1IIIi )
 , 'mediacode' : OOoOO0ooo
 , 'thumbnail' : II11IiIi11
 , 'synopsis' : unicode ( II )
 }
    if 50 - 50: OOooOOo * I1IiiI % iIii1I11I1II1 + Ii1I + iII111i + I1IiiI
    OoOOo0OOoO . append ( iiii111II )
    if 71 - 71: I1ii11iIi11i * I1ii11iIi11i * i1IIi . oO0o / I1Ii111
   if i1ii1I1I1 [ 'body' ] [ 'has_more' ] == 'Y' : ooO0O00Oo0o = True
   if 85 - 85: I11i
  except Exception as oooo0O0 :
   print ( oooo0O0 )
   if 20 - 20: oO0o % IiII
  return OoOOo0OOoO , ooO0O00Oo0o
  if 19 - 19: I1ii11iIi11i % IiII + ooOoO0o / I1Ii111 . ooOoO0o
  if 12 - 12: i1IIi + i1IIi - I1ii11iIi11i * Oo0Ooo % Oo0Ooo - II111iiii
 def GetProgramList ( self , stype , orderby , page_int ) :
  OoOOo0OOoO = [ ]
  ooO0O00Oo0o = False
  if 52 - 52: ooOoO0o . iII111i + I1Ii111
  try :
   oO0O00OoOO0 = '/v2/media/episodes'
   if 38 - 38: i1IIi - II111iiii . I1Ii111
   ooO0oOOooOo0 = self . GetDefaultParams ( )
   i1I1ii11i1Iii = { 'pageNo' : str ( page_int )
 , 'pageSize' : str ( self . VOD_LIMIT )
 , 'order' : orderby
 , 'adult' : 'all'
 , 'free' : 'all'
 , 'guest' : 'all'
 , 'scope' : 'all'
 , 'lastFrequency' : 'y'
 , 'personal' : 'N'

   , '_' : str ( self . GetNoCache ( 2 ) )
 }
   if stype != 'all' : i1I1ii11i1Iii [ 'multiCategoryCode' ] = stype
   if 58 - 58: I1IiiI . iII111i + OoOoOO00
   o0O00oOoOO = self . makeurl ( self . API_DOMAIN , oO0O00OoOO0 , i1I1ii11i1Iii , ooO0oOOooOo0 )
   if 66 - 66: iII111i / oO0o * OoooooooOO + OoooooooOO % I11i
   i1 = [
 ( 'User-Agent' , OO00Oo )
 , ( 'Cookie' , '%s=%s; %s=%s' % ( '_tving_token' , self . TVING_TOKEN , 'POC_USERINFO' , self . POC_USERINFO ) )
 ]
   if 49 - 49: oO0o - i11iIiiIii . I1Ii111 * Ii1I % iII111i + i1IIi
   OOO = self . SESSION . Request ( o0O00oOoOO , params = None , cookie = i1 )
   i1ii1I1I1 = json . loads ( OOO )
   if 71 - 71: o0oOOo0O0Ooo
   if not ( 'result' in i1ii1I1I1 [ 'body' ] ) : return OoOOo0OOoO , ooO0O00Oo0o
   i11ii1iI = i1ii1I1I1 [ 'body' ] [ 'result' ]
   if 38 - 38: oO0o % OoOoOO00 + I1ii11iIi11i . i11iIiiIii
   if 53 - 53: i11iIiiIii * iII111i
   for OO in i11ii1iI :
    OooooO0oOOOO = OO [ 'program' ] [ 'code' ]
    iiI1IIIi = OO [ 'program' ] [ 'name' ] [ 'ko' ]
    II11IiIi11 = self . IMG_DOMAIN + OO [ 'program' ] [ 'image' ] [ 0 ] [ 'url' ]
    II = OO [ 'program' ] [ 'synopsis' ] [ 'ko' ]
    o0O00oOOoo = OO [ 'program' ] [ 'channel_code' ]
    if 18 - 18: Ii1I + IiII - O0
    iiii111II = { 'program' : OooooO0oOOOO
 , 'title' : unicode ( iiI1IIIi )
 , 'thumbnail' : II11IiIi11
 , 'synopsis' : unicode ( II )
 , 'channel' : o0O00oOOoo
 }
    if 53 - 53: i1IIi
    OoOOo0OOoO . append ( iiii111II )
    if 87 - 87: i11iIiiIii + I1Ii111 . I1ii11iIi11i * I1Ii111 . ooOoO0o / I1ii11iIi11i
    if 76 - 76: O0 + i1IIi . Oo0Ooo * I1IiiI * Ii1I
   if i1ii1I1I1 [ 'body' ] [ 'has_more' ] == 'Y' : ooO0O00Oo0o = True
   if 14 - 14: o0oOOo0O0Ooo % O0 * iII111i + Ii1I + Oo0Ooo * Ii1I
  except Exception as oooo0O0 :
   print ( oooo0O0 )
   if 3 - 3: OoOoOO00 * Oo0Ooo
  return OoOOo0OOoO , ooO0O00Oo0o
  if 95 - 95: OOooOOo % oO0o . Ii1I
  if 72 - 72: OoooooooOO
 def GetEpisodoList ( self , program_code , page_int ) :
  OoOOo0OOoO = [ ]
  ooO0O00Oo0o = False
  if 72 - 72: I1IiiI % i11iIiiIii . Oo0Ooo / II111iiii
  try :
   oO0O00OoOO0 = '/v2/media/frequency/program/' + program_code
   if 14 - 14: I1ii11iIi11i + OoO0O00
   ooO0oOOooOo0 = self . GetDefaultParams ( )
   i1I1ii11i1Iii = { 'pageNo' : '1'
   , 'pageSize' : '10'
   , 'order' : 'new'
 , 'free' : 'all'
 , 'adult' : 'all'
 , 'scope' : 'all'

   , '_' : str ( self . GetNoCache ( 2 ) )
 }
   if 3 - 3: I1ii11iIi11i . Oo0Ooo / II111iiii
   o0O00oOoOO = self . makeurl ( self . API_DOMAIN , oO0O00OoOO0 , i1I1ii11i1Iii , ooO0oOOooOo0 )
   if 39 - 39: I1Ii111
   i1 = [
 ( 'User-Agent' , OO00Oo )
 , ( 'Cookie' , '%s=%s; %s=%s' % ( '_tving_token' , self . TVING_TOKEN , 'POC_USERINFO' , self . POC_USERINFO ) )
 ]
   if 91 - 91: OoooooooOO - iIii1I11I1II1 + OoOoOO00 / OoO0O00 . OoOoOO00 + O0
   OOO = self . SESSION . Request ( o0O00oOoOO , params = None , cookie = i1 )
   i1ii1I1I1 = json . loads ( OOO )
   if 26 - 26: I1ii11iIi11i - OoooooooOO
   if not ( 'result' in i1ii1I1I1 [ 'body' ] ) : return OoOOo0OOoO , ooO0O00Oo0o
   i11ii1iI = i1ii1I1I1 [ 'body' ] [ 'result' ]
   if 11 - 11: I1IiiI * oO0o
   o000oo = int ( i1ii1I1I1 [ 'body' ] [ 'total_count' ] )
   o00o0 = int ( o000oo // self . EPISODE_LIMIT ) + 1
   II1I = ( o000oo - 1 ) - ( ( page_int - 1 ) * self . EPISODE_LIMIT )
   if 12 - 12: o0oOOo0O0Ooo - I1ii11iIi11i % OoOoOO00 * I11i
   for i11IIIiI11 in range ( self . EPISODE_LIMIT ) :
    if II1I - i11IIIiI11 < 0 : break
    III11I1 = i11ii1iI [ II1I - i11IIIiI11 ] [ 'episode' ] [ 'code' ]
    iiI1IIIi = i11ii1iI [ II1I - i11IIIiI11 ] [ 'vod_name' ] [ 'ko' ]
    if i11ii1iI [ II1I - i11IIIiI11 ] [ 'episode' ] [ 'image' ] != [ ] :
     II11IiIi11 = self . IMG_DOMAIN + i11ii1iI [ II1I - i11IIIiI11 ] [ 'episode' ] [ 'image' ] [ 0 ] [ 'url' ]
    else :
     II11IiIi11 = self . IMG_DOMAIN + i11ii1iI [ II1I - i11IIIiI11 ] [ 'program' ] [ 'image' ] [ 0 ] [ 'url' ]
    II = i11ii1iI [ II1I - i11IIIiI11 ] [ 'episode' ] [ 'synopsis' ] [ 'ko' ]
    if 36 - 36: oO0o - Ii1I . Oo0Ooo - i11iIiiIii - OOooOOo * Oo0Ooo
    iiii111II = { 'episode' : III11I1
 , 'title' : unicode ( iiI1IIIi )
 , 'thumbnail' : II11IiIi11
 , 'synopsis' : unicode ( II )
 }
    if 76 - 76: i11iIiiIii + o0oOOo0O0Ooo / I1ii11iIi11i - OoO0O00 - Ii1I + I1ii11iIi11i
    OoOOo0OOoO . append ( iiii111II )
    if 51 - 51: iIii1I11I1II1 . ooOoO0o + iIii1I11I1II1
   if o00o0 > page_int : ooO0O00Oo0o = True
   if 95 - 95: I1IiiI
  except Exception as oooo0O0 :
   print ( oooo0O0 )
   if 46 - 46: OoOoOO00 + OoO0O00
  return OoOOo0OOoO , ooO0O00Oo0o
  if 70 - 70: iII111i / iIii1I11I1II1
  if 85 - 85: OoooooooOO % i1IIi * OoooooooOO / I1ii11iIi11i
 def GetSearchList ( self , search_key , userid , page_int ) :
  ooOOoO = [ ]
  ooO0O00Oo0o = False
  if 20 - 20: I11i + Ii1I / O0 % iIii1I11I1II1
  try :
   oO0O00OoOO0 = '/search/getSearch.jsp'
   if 88 - 88: OoOoOO00 / II111iiii
   ooO0oOOooOo0 = self . GetDefaultParams ( )
   i1I1ii11i1Iii = { 'kwd' : search_key
 , 'notFoundText' : search_key
 , 'userid' : userid
 , 'siteName' : 'TVING_WEB'
 , 'category' : 'PROGRAM'
   , 'pageNum' : str ( page_int )
 , 'pageSize' : str ( self . SEARCH_LIMIT )
 , 'indexType' : 'both'
 , 'methodType' : 'allwordthruindex'
 , 'payFree' : 'ALL'
 , 'runTime' : 'ALL'
 , 'grade' : 'ALL'
 , 'genre' : 'ALL'
 , 'screen' : self . SCREENCODE
 , 'os' : self . OSCODE
 , 'network' : self . NETWORKCODE
 , 'sort1' : 'NO'
 , 'sort2' : 'NO'
 , 'sort3' : 'NO'
 , 'type1' : 'desc'
 , 'type2' : 'desc'
 , 'type3' : 'desc'
 , 'fixedType' : 'Y'
 , 'spcMethod' : 'someword'
 , 'spcSize' : '0'
 , 'schReqCnt' : '0'
   , 'vodBCReqCnt' : '0'
   , 'programReqCnt' : self . SEARCH_LIMIT
 , 'vodMVReqCnt' : '0'
   , 'smrclipReqCnt' : '0'
   , 'pickClipReqCnt' : '0'
   , 'aloneReqCnt' : '0'
   , 'cSocialClipCnt' : '0'
 , 'boardReqCnt' : '0'
 , 'talkReqCnt' : '0'
 , 'nowTime' : ''
 , 'mode' : 'normal'
 , 'adult_yn' : ''
 , 'reKwd' : ''
 , 'xwd' : ''

   , '_' : str ( self . GetNoCache ( 2 ) )
 }
   if 87 - 87: I1ii11iIi11i - I1ii11iIi11i - iII111i + oO0o
   o0O00oOoOO = self . makeurl ( self . SEARCH_DOMAIN , oO0O00OoOO0 , i1I1ii11i1Iii , None )
   if 82 - 82: oO0o / iIii1I11I1II1 . I1IiiI . OOooOOo / o0oOOo0O0Ooo
   i1 = [
 ( 'User-Agent' , OO00Oo )
 , ( 'Cookie' , '%s=%s; %s=%s' % ( '_tving_token' , self . TVING_TOKEN , 'POC_USERINFO' , self . POC_USERINFO ) )
 ]
   if 42 - 42: Oo0Ooo
   OOO = self . SESSION . Request ( o0O00oOoOO , params = None , cookie = i1 )
   i1ii1I1I1 = json . loads ( OOO )
   if 19 - 19: oO0o % I1ii11iIi11i * iIii1I11I1II1 + I1IiiI
   if 46 - 46: Oo0Ooo
   if not ( 'programRsb' in i1ii1I1I1 ) : return ooOOoO , ooO0O00Oo0o
   i1II1I1Iii1 = i1ii1I1I1 [ 'programRsb' ] [ 'dataList' ]
   iiI11Iii = int ( i1ii1I1I1 [ 'programRsb' ] [ 'count' ] )
   if 78 - 78: iII111i + I11i . ooOoO0o - iII111i . Ii1I
   if 30 - 30: I1IiiI + OoO0O00 % Ii1I * iII111i / Oo0Ooo - I11i
   for OO in i1II1I1Iii1 :
    OooooO0oOOOO = OO [ 'mast_cd' ]
    iiI1IIIi = OO [ 'mast_nm' ]
    II11IiIi11 = self . IMG_DOMAIN + OO [ 'web_url' ]
    II = OO [ 'mast_synop' ]
    if 64 - 64: iIii1I11I1II1
    iiii111II = { 'program' : OooooO0oOOOO
 , 'title' : unicode ( iiI1IIIi )
 , 'thumbnail' : II11IiIi11
 , 'synopsis' : unicode ( II )
 }
    if 21 - 21: Oo0Ooo . II111iiii
    ooOOoO . append ( iiii111II )
    if 54 - 54: II111iiii % II111iiii
    if 86 - 86: O0 % Ii1I * ooOoO0o * iIii1I11I1II1 * i1IIi * I11i
    if 83 - 83: OoOoOO00 % II111iiii - OoOoOO00 + IiII - O0
    if 52 - 52: Oo0Ooo * ooOoO0o
  except Exception as oooo0O0 :
   print ( oooo0O0 )
   if 33 - 33: Ii1I
  return ooOOoO , ooO0O00Oo0o
  if 74 - 74: OOooOOo + O0 + i1IIi - i1IIi + II111iiii
  if 83 - 83: I1ii11iIi11i - I1IiiI + OOooOOo
# dd678faae9ac167bc83abf78e5cb2f3f0688d3a3
